source 'https://github.com/CocoaPods/Specs.git'

platform :ios, '9.0'

inhibit_all_warnings!


#Have serveral targets may need this 'def'
def common_pods
    pod 'Masonry'
end

def debug_pods
    pod 'FLEX', :configurations => ['Debug']
    pod 'MLeaksFinder', :configurations => ['Debug']
end

def umenTest
    pod 'UMCCommon'
    pod 'UMCAnalytics'
    pod 'UMCSecurityPlugins'
end

def sd_web_image
    pod 'SDWebImage'
    pod 'SDWebImage/WebP'
end




def app_pods
    common_pods
    debug_pods
#    umenTest
end

target 'MyTestIO' do
    flutter_application_path = './my_flutter'
    load File.join(flutter_application_path, '.ios', 'Flutter', 'podhelper.rb')

  # 对于每个需要集成Flutter的Podfile target，添加如下内容
    install_all_flutter_pods(flutter_application_path)
  
    app_pods
    
    #Can add individual pods
    
end


### HOOK POST
pre_install do |installer|
    def installer.verify_no_static_framework_transitive_dependencies; end
end

post_install do |installer|
    installer.pods_project.targets.each do |target|
        target.build_configurations.each do |config|
            config.build_settings['ENABLE_STRICT_OBJC_MSGSEND'] = 'NO'
            config.build_settings['ENABLE_BITCODE'] = 'NO'
        end
    end
end
